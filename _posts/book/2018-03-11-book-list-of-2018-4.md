---
layout: post
title: 《微服务那些事》
category: 读书
keywords: 阅读,书单,2018
---

## 第一章 背景
&emsp;&emsp;微服务就像活字印刷一样（传统印刷不是这样，一个字刻错了整个雕版就作废了），每个服务都是一个组件，通过编排组合的方式来使用，从而真正做到了独立、解耦、组件化、易维护、可复用、可替换、高可用、最终达到提高交付质量、缩短交付周期的效果。

&emsp;&emsp;在容器技术没有出现以前，微服务所面临的“最后一公里”问题很棘手，因为服务多了以后如何自动化部署、如何运维是头等大事，没有合适的解决方案，容器技术让微服务“最后一公里”问题落地解决了！

&emsp;&emsp;好的架构不是设计出来的，是进化出来的。

> 微是指每个服务都是一只麻雀，虽然很小但是五脏俱全，这个“小”是相对传统应用的“大”而言的。
> 
> 微服务的一个重要特征就是面向服务。

&emsp;&emsp;微服务不适合所有的业务场景。

**微服务的不足**
1. 时效性&emsp;&emsp;因为它本身分布式的特点，在拆分成多个服务之后，服务之间的调用会有额外的开心，当部署在不同平台或者网络时，服务之间的调研延迟可能导致系统响应慢的问题。
2. 一致性&emsp;&emsp;基于分布式的复杂性，微服务在报纸事务强一致性需要做更多的工作，虽然理论上可以做到，但是显然这不是它最擅长的。
3. 可能造成浪费&emsp;&emsp; 各个服务之间形成了一座座的孤岛，这样会造成一些资源的浪费，如一些重复开发的功能。在很多服务中都可能会使用到同一个工，而这个功能没有足够大到成为一个服务的程度，这个时候可能不同的服务团队都会单独开发这一功能，重复的业务逻辑，违背了良好的软件工程的原则。

`长期来看，微服务更像是一次性投入长期受益的理财项目，虽然会一次性投入很多资金、时间和精力，但是会一劳永逸。`

## 第二章 如何拆分

&emsp;&emsp;我们可以通过数据模型和业务模型对系统进行梳理，利用这两个利器最终得到一个比较全面的业务范围。
**数据模型是骨架，业务是皮肉，所有的业务功能都是依附于数据模型之上的**

中间略写

感觉作者废话很多，拆分的原则无非是关键的业务功能拆分、基础服务拆分，至于拆分的粒度当然是需要结合业务场景来，能够支撑服务数量以及随之带来的整体复杂度即可。

## 第三章 微服务的朋友圈

**容器的标签就是隔离。**

&emsp;&emsp;有微服务的地方就可以看到DevOps；DevOps就是开发+运维，更是一种能力，是为了打破开发和运维之间的鸿沟，将开发和运维的工作融为一起，做到我中有你，你中有我，让两者不再是孤岛，而是统一的整体。DevOpS经常提到的全栈式、敏捷等概念，微服务的先天优势是小、快、灵，两者之间的结合能发挥出最大的优势，所以说微服务与DevOps是天生一对。

## 第四章 如何实现微服务

Spring Cloud就是一个大的工具包，有了这个工具包就可以放心开发微服务应用了，它为开发者提供了在分布式系统（如匹配管理、服务发现、断路器、智能路由、微代理、控制总线、一次性Token、全局锁、决策竞选、分布式会话和集群状态）操作的开发工具。开发者使用Spring Cloud可以快速实现上述这些功能。









